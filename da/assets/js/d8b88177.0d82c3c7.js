"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[130],{1367:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>d,contentTitle:()=>l,default:()=>h,frontMatter:()=>a,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"server-admin/deploy-install","title":"Installer installation","description":"S\xe5dan g\xf8r du den f\xf8rste ops\xe6tning afERDDAP\u2122p\xe5 din server","source":"@site/i18n/da/docusaurus-plugin-content-docs/current/server-admin/deploy-install.md","sourceDirName":"server-admin","slug":"/server-admin/deploy-install","permalink":"/da/docs/server-admin/deploy-install","draft":false,"unlisted":false,"editUrl":"https://github.com/erddap/erddap/tree/main/documentation/docs/server-admin/deploy-install.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"docSidebar","previous":{"title":"Server Administration","permalink":"/da/docs/category/server-administration"},"next":{"title":"Opdater opdatering","permalink":"/da/docs/server-admin/deploy-update"}}');var t=n(4848),s=n(8453);const a={sidebar_position:1},l="Installer installation",d={},o=[];function c(e){const r={a:"a",code:"code",em:"em",h1:"h1",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.header,{children:(0,t.jsx)(r.h1,{id:"installer-installation",children:"Installer installation"})}),"\n",(0,t.jsx)(r.p,{children:(0,t.jsx)(r.a,{href:"#initialSetup",children:"S\xe5dan g\xf8r du den f\xf8rste ops\xe6tning afERDDAP\u2122p\xe5 din server"})}),"\n",(0,t.jsx)(r.p,{children:"ERDDAP\u2122kan k\xf8re p\xe5 enhver server, der underst\xf8tterJavaog Tomcat (og andre applikationsservere som Jetty, men vi underst\xf8tter ikke dem) .ERDDAP\u2122er blevet testet p\xe5 Linux (herunder p\xe5 Amazon's AWS) , Mac og Windows-computere."}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:["** Amazon Amazon ** -- Hvis du installererERDDAP\u2122p\xe5 en Amazon Web Services EC2-instans, se dette",(0,t.jsx)(r.a,{href:"#amazon",children:"Oversigt over Amazon Web Services"})," (nedenfor) f\xf8rst."]}),"\n",(0,t.jsxs)(r.li,{children:["** Docker ** -- Axiom tilbyder nu",(0,t.jsx)(r.a,{href:"https://hub.docker.com/u/axiom/",children:"ERDDAP\u2122i en Docker-container"}),"og IOOS tilbyder nu et tilbud",(0,t.jsx)(r.a,{href:"https://ioos.github.io/erddap-gold-standard/index.html",children:"Hurtig startguide tilERDDAP\u2122i en Docker Container"}),".\r\nDet er standardenERDDAP\u2122installation, men Axiom har lagt den i en docker beholder.\r\nHvis du allerede bruger Docker, vil du sandsynligvis foretr\xe6kke Docker-versionen.\r\nHvis du ikke allerede bruger Docker, anbefaler vi generelt ikke dette.\r\nHvis du valgte at installereERDDAP\u2122via Docker tilbyder vi ingen st\xf8tte til installationsprocessen.\r\nVi har ikke arbejdet med Docker endnu. Hvis du arbejder med dette, bedes du sende os dine kommentarer."]}),"\n",(0,t.jsx)(r.li,{children:"** Linux og Macs ** --ERDDAP\u2122virker fantastisk p\xe5 Linux og Mac-computere. Se vejledningen nedenfor."}),"\n",(0,t.jsxs)(r.li,{children:["** Windows Windows Windows ** -- Windows er fint til testERDDAP\u2122og til personlig brug (Se vejledningen nedenfor) , men vi anbefaler ikke at bruge det til offentlighedenERDDAPs. L\xf8bERDDAP\u2122p\xe5 Windows kan have problemer: navnlig,ERDDAP\u2122kan ikke slette og/eller omd\xf8be filer hurtigt. Dette skyldes sandsynligvis antivirus software (f.eks. fra McAfee og Norton) som kontrollerer filerne til virus. Hvis du k\xf8rer ind i dette problem (som kan ses af fejlmeddelelser i problemet",(0,t.jsx)(r.a,{href:"#log",children:"log.txt"}),'fil som "Unable at slette ..."), \xe6ndre antivirussoftwarens indstillinger kan delvist lindre problemet. Eller overveje at bruge en Linux- eller Mac-server i stedet.']}),"\n"]}),"\n",(0,t.jsx)(r.p,{children:"** StandardERDDAP\u2122installationsinstruktioner for Linux, Macs og Windows-computere er: **"}),"\n",(0,t.jsxs)(r.ol,{start:"0",children:["\n",(0,t.jsxs)(r.li,{children:["\n",(0,t.jsx)(r.p,{children:"S\xf8rg for, at eventuelle afh\xe6ngigheder er installeret. P\xe5 ikke-Windows maskiner (Linux og Mac) , du beh\xf8ver csh."}),"\n"]}),"\n",(0,t.jsxs)(r.li,{children:["\n",(0,t.jsxs)(r.p,{children:[(0,t.jsx)(r.a,{href:"#java",children:"For For For For ForERDDAP\u2122v2.19+, s\xe6t opJava21. marts"}),"\r\nAf sikkerhedsm\xe6ssige \xe5rsager er det n\xe6sten altid bedst at bruge den nyeste version afJava21. marts\r\nDownload og installer den nyeste version af\r\n",(0,t.jsx)(r.a,{href:"https://adoptium.net/temurin/releases/?version=21",children:"Adoptiums OpenJDK (Temurin) 21:21 (LTS) "}),'. Hvis du vil kontrollere installationen, skal du skrive "/',(0,t.jsx)(r.em,{children:"javaJreBinDirectory"}),'/java -version", for eksempel\r\n/usr/local/jdk-21.0.3+9/jre/bin/java -version']}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(r.p,{children:"ERDDAP\u2122arbejder medJavafra andre kilder, men vi anbefaler Adoptium, fordi det er den vigtigste, community-st\xf8ttet, gratis (som i \xf8l og tale) version afJava21 der tilbyder Long Term Support (gratis opgraderinger i mange \xe5r tidligere den f\xf8rste udgivelse) . Af sikkerhedsm\xe6ssige \xe5rsager, bedes du opdatere dinERDDAP's version afJavaperiodisk som nye versioner afJava21 bliver tilg\xe6ngelig fra Adoptium."}),"\n",(0,t.jsx)(r.p,{children:"ERDDAP\u2122er blevet testet og brugt i vid udstr\xe6kning med 21, ikke andre versioner. Af forskellige grunde tester vi ikke med eller underst\xf8tter andre versioner afJava."}),"\n",(0,t.jsxs)(r.ol,{start:"2",children:["\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.a,{href:"#tomcat",children:"Ops\xe6t op"}),(0,t.jsx)(r.a,{href:"https://tomcat.apache.org",children:"Tomcat"}),".\r\nTomcat er den mest udbredteJavaAns\xf8gning Server, som erJavasoftware, der st\xe5r mellem operativsystemets netv\xe6rkstjenester ogJavaserversoftware somERDDAP\u2122. Det er gratis og Open Source software (FOSS) ."]}),"\n"]}),"\n",(0,t.jsx)(r.p,{children:"Du kan bruge en andenJavaAns\xf8gning Server (f.eks. Jetty) , men vi tester kun med og st\xf8tte Tomcat."}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:["Hent Tomcat og udpakning det p\xe5 din server eller pc.\r\nAf sikkerhedsm\xe6ssige \xe5rsager er det n\xe6sten altid bedst at bruge den nyeste version af Tomcat 10 (version 9 og nedenfor er ikke acceptabel) som er designet til at arbejde medJava21 eller nyere. Nedenfor henvises Tomcat-mappen til som ",(0,t.jsx)(r.em,{children:"tomcat"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(r.p,{children:["Advarsel! Hvis du allerede har en Tomcat, der k\xf8rer nogle andre webapplikationer (s\xe6rligt s\xe6rligt) , vi anbefaler, at du installererERDDAP\u2122i in in in in",(0,t.jsx)(r.a,{href:"#secondTomcat",children:"Et andet Tomcat"}),", fordiERDDAP\u2122behov for forskellige Tomcat indstillinger og b\xf8r ikke konkurrere med andre applikationer til hukommelse."]}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:["\n",(0,t.jsxs)(r.p,{children:["P\xe5 Linux,",(0,t.jsx)(r.a,{href:"https://tomcat.apache.org/download-10.cgi",children:'Download "Core" "tar.gz" Tomcat distribution'}),"og udpakning det. Vi anbefaler at pakke det i /usr/local."]}),"\n"]}),"\n",(0,t.jsxs)(r.li,{children:["\n",(0,t.jsxs)(r.p,{children:["P\xe5 en Mac er Tomcat sandsynligvis allerede installeret i /Library/Tomcat, men skal opdatere det til den nyeste version af Tomcat 10.\r\nHvis du downloader det,",(0,t.jsx)(r.a,{href:"https://tomcat.apache.org/download-10.cgi",children:'Download "Core" "tar.gz" Tomcat distribution'}),"og udpakning det i /Library/Tomcat."]}),"\n"]}),"\n",(0,t.jsxs)(r.li,{children:["\n",(0,t.jsxs)(r.p,{children:["P\xe5 Windows, kan du",(0,t.jsx)(r.a,{href:"https://tomcat.apache.org/download-10.cgi",children:'Download "Core" "zip" Tomcat distribution'}),' (som ikke roder med Windows-registreringsdatabasen, og som du styrer fra en DOS-kommandolinje) og udpakning det i en passende mappe. (Til udvikling bruger vi "Core" "zip" distribution. Vi laver en /programmer mappe og pakker den der.) Eller du kan downloade "Core" "64-bit Windows zip" distribution, som indeholder flere funktioner. Hvis distributionen er en Windows-installation, vil den sandsynligvis s\xe6tte Tomcat i, for eksempel /Program Files/apache-tomcat-10.0.23 .']}),"\n"]}),"\n",(0,t.jsxs)(r.li,{children:["\n",(0,t.jsxs)(r.p,{children:[(0,t.jsx)(r.a,{href:"#server.xml",children:"server.xml"}),"- I ",(0,t.jsx)(r.em,{children:"tomcat"}),"/conf/server.xml-fil, er der to \xe6ndringer, du skal foretage for hver af de to<Connector>tags- en for"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{children:'        <Connector port="8080" \n'})}),"\n",(0,t.jsx)(r.p,{children:"og en til"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{children:'        <Conector port="8443"\n'})}),"\n",(0,t.jsxs)(r.ol,{children:["\n",(0,t.jsx)(r.li,{children:"(Anbefalet anbefalet) For\xf8g forbindelsenTimeout parameter v\xe6rdi, m\xe5ske til 300000 (millisekunder)  (som er 5 minutter) ."}),"\n",(0,t.jsx)(r.li,{children:'(Anbefalet anbefalet) Tilf\xf8j en ny parameter: afslappetQueryChars Hanging\\[\\]|" Dette er valgfrit og lidt mindre sikker, men fjerner behovet for brugere til procentkode disse tegn, n\xe5r de forekommer i parametrene for en brugerkonto.'}),"\n"]}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:["\n",(0,t.jsxs)(r.p,{children:[(0,t.jsx)(r.a,{href:"#ResourcesCache",children:"kontekst.xml -- Ressourcer cache"}),"- I ",(0,t.jsx)(r.em,{children:"tomcat"}),'/conf/context.xml, lige f\xf8r te</Context>M\xe6rke, \xe6ndre Ressourcer tag (eller tilf\xf8je det, hvis det ikke allerede er der) for at indstille cachen MaxSize parameter til 80000:\r\n<Resources cachingAllowed="true" cacheMaxSize="80000" />\r\nDette undg\xe5r mange advarsler i katalina. ud af, at alle starter med\r\n"WARNING \\[main\\] org.apache.catalina.webresources.Cache.getResource Kan ikke tilf\xf8je ressourcen p\xe5 \\[/WEB-INF/classes/...]']}),"\n"]}),"\n",(0,t.jsxs)(r.li,{children:["\n",(0,t.jsxs)(r.p,{children:[(0,t.jsx)(r.a,{href:"#ApacheTimeout",children:"P\xe5 Linux-computere skal du \xe6ndre indstillingerne for Apache timeout"}),'s\xe5 tidskr\xe6vende brugeranmodninger ikke timeout (med hvad der ofte vises som en "Proxy" eller "Bad Gateway" fejl) . Som root-brugeren:']}),"\n",(0,t.jsxs)(r.ol,{children:["\n",(0,t.jsx)(r.li,{children:"Rediger Apache httpd.conf-filen (normalt i /etc/httpd/conf/) :\r\n\xc6ndre de eksisterende<Timeout>indstilling af indstilling (eller tilf\xf8je en i slutningen af filen) til 3600 (sekunder sekunder) , i stedet for standard 60 eller 120 sekunder.\r\n\xc6ndre de eksisterende<ProxyTimeout>indstilling af indstilling (eller tilf\xf8je en i slutningen af filen) til 3600 (sekunder sekunder) , i stedet for standard 60 eller 120 sekunder."}),"\n",(0,t.jsx)(r.li,{children:"Genstart Apache: /usr/sbin/apachectl -k yndefuld (Men nogle gange er det i en anden mappe) ."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(r.li,{children:["\n",(0,t.jsxs)(r.p,{children:["Sikkerheds anbefaling: Se endnu",(0,t.jsx)(r.a,{href:"https://tomcat.apache.org/tomcat-10.0-doc/security-howto.html",children:"disse instruktioner"}),"for at \xf8ge sikkerheden af din Tomcat installation, is\xe6r for offentlige servere."]}),"\n"]}),"\n",(0,t.jsxs)(r.li,{children:["\n",(0,t.jsxs)(r.p,{children:['Til offentlighedenERDDAP\u2122installationer p\xe5 Linux og Macs, det er bedst at ops\xe6tte Tomcat (programmet) som tilh\xf8rer brugeren "tomcat" (en separat bruger med begr\xe6nsede tilladelser og hvilke',(0,t.jsx)(r.a,{href:"https://unix.stackexchange.com/questions/56765/creating-an-user-without-a-password",children:"Ingen adgangskode"}),"). S\xe5ledes kan kun den super bruger skifte til at handle som bruger tomcat. Dette g\xf8r det umuligt for hackere at logge ind p\xe5 din server som bruger tomcat. Og i alle tilf\xe6lde skal du g\xf8re det, s\xe5 tomcat-brugeren har meget begr\xe6nsede tilladelser p\xe5 serverens filsystem (l\xe6s+writing+executerettigheder for apache-tomcat-mappen tr\xe6 og<bigParentDirectory>og l\xe6s kun rettigheder til mapper med data, derERDDAP\u2122behov for adgang til)."]}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:["\n",(0,t.jsx)(r.p,{children:"Du kan oprette en tomcat brugerkonto (som ikke har nogen adgangskode) ved at bruge kommandoen\r\nsudo brugertilf\xf8jelse tomcat -s /bin/bash -p '\\* ''"}),"\n"]}),"\n",(0,t.jsxs)(r.li,{children:["\n",(0,t.jsx)(r.p,{children:"Du kan skifte til at arbejde som bruger tomcat ved hj\xe6lp af kommandoen\r\nsudo su - tomcat\r\n(Det vil bede dig om superbruger adgangskode for tilladelse til at g\xf8re dette.)"}),"\n"]}),"\n",(0,t.jsxs)(r.li,{children:["\n",(0,t.jsx)(r.p,{children:"Du kan stoppe med at arbejde som bruger tomcat ved at bruge kommandoen\r\nudgang"}),"\n"]}),"\n",(0,t.jsxs)(r.li,{children:["\n",(0,t.jsx)(r.p,{children:'De fleste af resten af Tomcat ogERDDAP\u2122setup instruktioner som bruger "tomcat". Senere k\xf8rer opstart.sh og nedlukning.sh scripts som bruger "tomcat", s\xe5 Tomcat har tilladelse til at skrive til sine log filer.'}),"\n"]}),"\n",(0,t.jsxs)(r.li,{children:["\n",(0,t.jsx)(r.p,{children:"Efter at have pakket Tomcat, fra moderen af apache-tomcat-mappen:"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:["\xc6ndre ejerskab af apache-tomcat-mappens tr\xe6 til brugeren.\r\nklovn -R tomcat apache-tomcat-",(0,t.jsx)(r.em,{children:"10.0.23"}),"\r\n(men erstatte det faktiske navn p\xe5 din tomcat mappe) ."]}),"\n",(0,t.jsxs)(r.li,{children:['\xc6ndre "gruppen" for at v\xe6re tomcat, dit brugernavn eller navnet p\xe5 en lille gruppe, der indeholder tomcat og alle administratorer af Tomcat/ERDDAPf.eks.\r\nchgrp -R ',(0,t.jsx)(r.em,{children:"your Brugernavn"})," apache-tomcat-",(0,t.jsx)(r.em,{children:"10.0.23"})]}),"\n",(0,t.jsxs)(r.li,{children:["\xc6ndre tilladelser, s\xe5 tomcat og gruppen har l\xe6st, skrive, udf\xf8re privilegier, f.eks.\r\nchmod -R ug+rwx apache-tomcat-",(0,t.jsx)(r.em,{children:"10.0.23"})]}),"\n",(0,t.jsxs)(r.li,{children:['Fjern "andre" brugerens tilladelser til at l\xe6se, skrive eller udf\xf8re:\r\nchmod -R o-rwx apache-tomcat-',(0,t.jsx)(r.em,{children:"10.0.23"}),"\r\nDette er vigtigt, fordi det forhindrer andre brugere i at l\xe6se muligvis f\xf8lsomme oplysninger iERDDAP\u2122Ops\xe6tning af filer."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(r.li,{children:["\n",(0,t.jsxs)(r.p,{children:[(0,t.jsx)(r.a,{href:"#memory",children:"Indstil s\xe6t"}),(0,t.jsx)(r.a,{href:"#WindowsMemory",children:"Tomcat's"}),(0,t.jsx)(r.a,{href:"#MacMemory",children:"Milj\xf8milj\xf8"}),(0,t.jsx)(r.a,{href:"#LinuxMemory",children:"Varer"})]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(r.p,{children:["P\xe5 Linux og Macs:\r\nOpret en fil ",(0,t.jsx)(r.em,{children:"tomcat"}),"/bin/setenv.sh (eller i Red Hat Enterprise Linux \\[RHEL\\], redigere ~tomcat/conf/tomcat10.conf) at indstille Tomcats milj\xf8variabler. Denne fil vil blive brugt af ",(0,t.jsx)(r.em,{children:"tomcat"}),"/bin/startup.sh og nedlukning.sh. Filen skal indeholde noget som:"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{children:"        export JAVA\\\\_HOME=/usr/local/jdk-21.0.3+9  \r\n        export JAVA\\\\_OPTS='-server -Djava.awt.headless=true -Xmx1500M -Xms1500M'  \r\n        export TOMCAT\\\\_HOME=/usr/local/apache-tomcat-_10.0.23_  \r\n        export CATALINA\\\\_HOME=/usr/local/apache-tomcat-_10.0.23_\n"})}),"\n",(0,t.jsx)(r.p,{children:"(men erstatning af mappenavne fra din computer) .\r\n(Hvis du tidligere har indstillet JRE\\_HOME, kan du fjerne det.)\r\nP\xe5 Macs beh\xf8ver du sandsynligvis ikke at s\xe6tte JAVA\\_HOME."}),"\n",(0,t.jsxs)(r.p,{children:["P\xe5 Windows:\r\nOpret en fil ",(0,t.jsx)(r.em,{children:"tomcat"}),'"bin"setenv.bat for at indstille Tomcats milj\xf8variabler. Denne fil vil blive brugt af ',(0,t.jsx)(r.em,{children:"tomcat"}),"\u2018bin\u2019startup.bat ogshutdown.bat. Filen skal indeholde noget som:"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{children:'        SET "JAVA\\\\_HOME=\\\\_someDirectory_\\\\jdk-21.0.3+9"  \r\n        SET "JAVA\\\\_OPTS=-server -Xmx1500M -Xms1500M"  \r\n        SET "TOMCAT\\\\_HOME=\\\\Program Files\\\\apache-tomcat-_10.0.23_"  \r\n        SET "CATALINA\\\\_HOME=\\\\Program Files\\\\apache-tomcat-_10.0.23_"\n'})}),"\n",(0,t.jsx)(r.p,{children:'(men erstatning af mappenavne fra din computer) .\r\nHvis dette kun er for lokal test, skal du fjerne "-server".\r\n(Hvis du tidligere har indstillet JRE\\_HOME, kan du fjerne det.)'}),"\n",(0,t.jsx)(r.p,{children:"-Xmx og -Xms hukommelse indstillinger er vigtige, fordiERDDAP\u2122virker bedre med mere hukommelse. Altid indstillet -Xms til samme v\xe6rdi som -Xmx."}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:["\n",(0,t.jsx)(r.p,{children:"Til 32 bit operativsystemer og 32 bitJava:\r\n64 bitJavaer meget bedre end 32 bitJava, men 32 bitJavavil arbejde s\xe5 l\xe6nge serveren ikke er virkelig optaget. Jo mere fysisk hukommelse i serveren jo bedre: 4+ GB er virkelig god, 2 GB er okay, mindre anbefales ikke. Med 32 bitJava, selv med rigelig fysisk hukommelse, Tomcat ogJavaK\xf8r ikke, hvis du fors\xf8ger at s\xe6tte -Xmx meget over 1500M (1200M p\xe5 nogle computere) . Hvis din server har mindre end 2 GB hukommelse, skal du reducere v\xe6rdien -Xmx (i 'M'egaBytes) til 1/2 af computerens fysiske hukommelse."}),"\n"]}),"\n",(0,t.jsxs)(r.li,{children:["\n",(0,t.jsx)(r.p,{children:"Til 64 bit Betjeningssystemer og 64 bitJava:\r\n64 bitJavavil kun arbejde p\xe5 et 64 bit operativsystem."}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsx)(r.li,{children:"MedJava8, du skal tilf\xf8je \\-d64 til Tomcat CATALINA\\_OPTS parameter i setenv.bat"}),"\n",(0,t.jsx)(r.li,{children:'MedJava21, du v\xe6lger 64 bitJavan\xe5r du downloader en version afJavamarkeret "64 bit".'}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(r.p,{children:["Med 64 bitJava, Tomcat ogJavakan bruge meget h\xf8j -Xmx og -Xms indstillinger. Jo mere fysisk hukommelse i serveren jo bedre. Som et forenklet forslag: Vi anbefaler dig s\xe6t -Xmx og -Xms to (i 'M'egaBytes) til 1/2 (eller mindre) af computerens fysiske hukommelse. Du kan se, om Tomcat,Java, ogERDDAP\u2122k\xf8rer faktisk i 64 bit mode ved at s\xf8ge efter \" bit\", iERDDAP's Daily Report e-mail eller i ",(0,t.jsx)(r.em,{children:"bigParentDirectory"}),"/logs/",(0,t.jsx)(r.a,{href:"#log",children:"log.txt"}),"fil (",(0,t.jsx)(r.em,{children:"bigParentDirectory"})," er angivet i",(0,t.jsx)(r.a,{href:"#setup.xml",children:"ops\xe6tning.xml"}),")."]}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:["\n",(0,t.jsxs)(r.p,{children:[(0,t.jsx)(r.a,{href:"#GC",children:"I n\xe6rheden af In In In In In In In In In In In In In InERDDAP's"}),(0,t.jsx)(r.a,{href:"#log",children:"log.txt"}),'fil, vil du se mange "GC (Ombygning Failure) " beskeder.\r\nDette er normalt ikke et problem. Det er en hyppig meddelelse fra en normalt driftJavaat sige, at det bare endte en mindre affaldskollektion, fordi det l\xf8b ud af rummet i Eden (Afsnittet iJavahanap for meget unge genstande) . Normalt vises beskeden dig ',(0,t.jsx)(r.em,{children:"memoryBrug f\xf8r"}),"\\->",(0,t.jsx)(r.em,{children:"memoryUse efter"}),". Hvis disse to tal er t\xe6t sammen, betyder det, at affaldsopsamlingen ikke var produktiv. Meddelelsen er kun et tegn p\xe5 problemer, hvis det er meget hyppig (hvert par sekunder) , ikke produktive, og tallene er store og ikke voksende, som tilsammen angiver, atJavakr\xe6ver mere hukommelse, k\xe6mper for at frig\xf8re hukommelse, og er ikke i stand til at frig\xf8re hukommelse. Det kan ske under en stressende tid, s\xe5 g\xe5 v\xe6k. Men hvis det forts\xe6tter, det er et tegn p\xe5 problemer."]}),"\n"]}),"\n",(0,t.jsxs)(r.li,{children:["\n",(0,t.jsxs)(r.p,{children:["Hvis du ser java.lang.OutOfMemory Error's inERDDAP's",(0,t.jsx)(r.a,{href:"#log",children:"log.txt"}),"fil, se",(0,t.jsx)(r.a,{href:"#OutOfMemoryError",children:"FjerneMemoryFejl"}),"for tips om, hvordan du diagnosticerer og l\xf8ser problemerne."]}),"\n"]}),"\n",(0,t.jsxs)(r.li,{children:["\n",(0,t.jsxs)(r.p,{children:[(0,t.jsx)(r.a,{href:"#permissions",children:"P\xe5 Linux og Macs skal du \xe6ndre tilladelser"}),"af alle\\*.shfiler i ",(0,t.jsx)(r.em,{children:"tomcat"}),"/bin/at v\xe6re eksekverbar af ejeren, f.eks. med"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{children:"        chmod +x \\\\*.sh  \n"})}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.a,{href:"#fonts",children:"Skrifttyper til billeder:"}),"Vi foretr\xe6kker st\xe6rkt den gratis",(0,t.jsx)(r.a,{href:"https://dejavu-fonts.github.io/",children:"DejaVu skrifttyper"}),"til den andenJavaskrifttyper. Brug af disse skrifttyper anbefales st\xe6rkt, men ikke p\xe5kr\xe6vet."]}),"\n"]}),"\n",(0,t.jsx)(r.p,{children:"Hvis du v\xe6lger ikke at bruge DejaVu-skrifttyper, skal du \xe6ndre skriftfamilieindstillingen i ops\xe6tning.xml til<fontFamily>I n\xe6rheden af SansSerif</fontFamily>, som er tilg\xe6ngelig med alleJavadistributioner. Hvis du indstiller skriftfamilie til navnet p\xe5 en skrifttype, der ikke er tilg\xe6ngelig,ERDDAP\u2122Du vil ikke indl\xe6se og udskrive en liste over tilg\xe6ngelige skrifttyper i log.txt-filen. Du skal bruge en af disse skrifttyper."}),"\n",(0,t.jsx)(r.p,{children:"Hvis du v\xe6lger at bruge DejaVu-skrifttyper, skal du s\xf8rge for, at skriftfamilieindstillingen i ops\xe6tning.xml er<fontFamily>Flyrejser til Sans</fontFamily>."}),"\n",(0,t.jsxs)(r.p,{children:["For at installere DejaVu-skrifttyper, skal du downloade",(0,t.jsx)(r.a,{href:"https://erddap.github.io/DejaVuFonts.zip",children:"DejaVuFonts.zip"})," (5,522,795 bytes, MD5=33E1E61FAB06A547851ED308B4FFEF42) og indpakke skriftfilerne til en midlertidig mappe."]}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:["\n",(0,t.jsx)(r.p,{children:"P\xe5 Linux:"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:["Til Linux AdoptiumJavadistributioner, se",(0,t.jsx)(r.a,{href:"https://blog.adoptopenjdk.net/2021/01/prerequisites-for-font-support-in-adoptopenjdk/",children:"disse instruktioner"}),"."]}),"\n",(0,t.jsxs)(r.li,{children:["Med andreJavaFordelinger: Som Tomcat bruger skal du kopiere skriftfilerne til _JAVA\\",(0,t.jsx)(r.em,{children:"HOME"}),"/lib/fonts s\xe5Javakan finde skrifttyperne. Husk: hvis/ n\xe5r du senere opgraderer til en nyere version afJava, du skal geninstallere disse skrifttyper."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(r.li,{children:["\n",(0,t.jsx)(r.p,{children:"P\xe5 Macs: for hver skriftfil, dobbelt klik p\xe5 det, og klik derefter p\xe5 Installer Font."}),"\n"]}),"\n",(0,t.jsxs)(r.li,{children:["\n",(0,t.jsx)(r.p,{children:"P\xe5 Windows 7 og 10: I Windows Explorer skal du v\xe6lge alle skriftfiler. H\xf8jreklik. Klik p\xe5 Installer."}),"\n"]}),"\n",(0,t.jsxs)(r.li,{children:["\n",(0,t.jsx)(r.p,{children:(0,t.jsx)(r.a,{href:"#testTomcat",children:"Test din Tomcat installation."})}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:["\n",(0,t.jsx)(r.p,{children:"Linux:"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:['Som bruger "tomcat", k\xf8re ',(0,t.jsx)(r.em,{children:"tomcat"}),"/bin/startup.sh"]}),"\n",(0,t.jsxs)(r.li,{children:['Se din URL + ":8080/" i din browser (f.eks.',(0,t.jsx)(r.a,{href:"http://coastwatch.pfeg.noaa.gov:8080/",children:"http://coastwatch.pfeg.noaa.gov:8080/"}),")."]}),"\n",(0,t.jsxs)(r.li,{children:['Du skal se Tomcat "Congratulations" side.\r\nHvis der er problemer, kan du se Tomcat-filen ',(0,t.jsx)(r.em,{children:"tomcat"}),"/logs/catalina.out."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(r.li,{children:["\n",(0,t.jsx)(r.p,{children:"Mac Mac Mac Mac (K\xf8r tomcat som systemadministratorens bruger) :"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:["K\xf8r ",(0,t.jsx)(r.em,{children:"tomcat"}),"/bin/startup.sh"]}),"\n",(0,t.jsxs)(r.li,{children:['Se din URL + ":8080/" i din browser (f.eks.',(0,t.jsx)(r.a,{href:"http://coastwatch.pfeg.noaa.gov:8080/",children:"http://coastwatch.pfeg.noaa.gov:8080/"}),"). Bem\xe6rk, at din Tomcat som standard kun er tilg\xe6ngelig af dig. Det er ikke offentligt tilg\xe6ngeligt."]}),"\n",(0,t.jsxs)(r.li,{children:['Du skal se Tomcat "Congratulations" side.\r\nHvis der er problemer, kan du se Tomcat-filen ',(0,t.jsx)(r.em,{children:"tomcat"}),"/logs/catalina.out."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(r.li,{children:["\n",(0,t.jsx)(r.p,{children:"Windows lokalhost:"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsx)(r.li,{children:'H\xf8jreklik p\xe5 Tomcat-ikonet i systembakken, og v\xe6lg "Start service".'}),"\n",(0,t.jsxs)(r.li,{children:["Udsigt til udsigt",(0,t.jsx)(r.a,{href:"http://127.0.0.1:8080/",children:"http://127.0.0.1:8080/"}),"eller m\xe5ske",(0,t.jsx)(r.a,{href:"http://localhost:8080/",children:"http://localhost:8080/"}),", i din browser. Bem\xe6rk, at din Tomcat som standard kun er tilg\xe6ngelig af dig. Det er ikke offentligt tilg\xe6ngeligt."]}),"\n",(0,t.jsxs)(r.li,{children:['Du skal se Tomcat "Congratulations" side.\r\nHvis der er problemer, kan du se Tomcat-filen ',(0,t.jsx)(r.em,{children:"tomcat"}),"/logs/catalina.out."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(r.li,{children:["\n",(0,t.jsx)(r.p,{children:"Problemer med Tomcat installation?"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsx)(r.li,{children:"P\xe5 Linux og Mac, hvis du ikke kan n\xe5 Tomcat ellerERDDAP\u2122 (eller m\xe5ske kan du bare ikke n\xe5 dem fra en computer uden for din firewall) , kan du teste, om Tomcat lytter til port 8080, ved at skrive (som rod) p\xe5 en kommandolinje af serveren:"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{children:"            netstat -tuplen | grep 8080  \n"})}),"\n",(0,t.jsx)(r.p,{children:"Det skal returnere en linje med noget som:"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{children:"            tcp 0 0 :::8080 :::\\\\* LISTEN ## ##### ####/java\n"})}),"\n",(0,t.jsx)(r.p,{children:'(hvor \'#\' er nogle digitalisering) , der angiver, at en "java" proces (formodentlig Tomcat) lytter p\xe5 port "8080" til "tcp" trafik. Hvis der ikke blev returneret linjer, hvis linjen returneres markant anderledes, eller hvis to eller flere linjer blev returneret, kan der v\xe6re et problem med portindstillingerne.'}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:["Se Tomcat logfilen ",(0,t.jsx)(r.em,{children:"tomcat"}),"/logs/catalina.out. Tomcat problemer og nogleERDDAP\u2122opstartsproblemer er n\xe6sten altid angivet der. Dette er almindeligt, n\xe5r du f\xf8rst opretter opERDDAP\u2122."]}),"\n",(0,t.jsxs)(r.li,{children:["Se billederne",(0,t.jsx)(r.a,{href:"https://tomcat.apache.org/",children:"Tomcat"}),"hjemmeside eller s\xf8g p\xe5 nettet for at hj\xe6lpe, men lad os vide de problemer, du havde, og de l\xf8sninger, du fandt."]}),"\n",(0,t.jsx)(r.li,{children:"Email mig p\xe5erd dot data at noaa dot gov. Jeg vil fors\xf8ge at hj\xe6lpe dig."}),"\n",(0,t.jsxs)(r.li,{children:["Eller du kan tilmelde dig",(0,t.jsx)(r.a,{href:"#ERDDAPMailingList",children:"ERDDAP\u2122Google Group/ Mailing List"}),"og post dit sp\xf8rgsm\xe5l der."]}),"\n"]}),"\n",(0,t.jsxs)(r.ol,{start:"3",children:["\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.a,{href:"#erddapContent",children:"Ops\xe6t op af_tomcat_/content/erddapkonfigurationsfiler."}),"\r\nP\xe5 Linux, Mac og Windows, download",(0,t.jsx)(r.a,{href:"https://github.com/ERDDAP/erddapContent/releases/download/content1.0.0/erddapContent.zip",children:"ErddapContent.zip"})," (Version 1.0.0, 20333 bytes, MD5=2B8D2A5AE5ED73E3A42B529C168C60B5, af 2024-10-14-14-14) og indpakke det ind i ",(0,t.jsx)(r.em,{children:"tomcat"}),", oprettelse_tomcat_/content/erddap."]}),"\n"]}),"\n",(0,t.jsxs)(r.p,{children:[(0,t.jsx)(r.a,{href:"#erddapContentDirectory",children:"Andre mappe:"}),"Til Red Hat Enterprise Linux (RHEL) eller for andre situationer, hvor du ikke har tilladelse til at \xe6ndre Tomcat-mappen, eller hvor du \xf8nsker/need at s\xe6tte denERDDAP\u2122indholdskatalog p\xe5 en anden grund (for eksempel, hvis du bruger Jetty i stedet for Tomcat) , unzip erddapContent.zipi den \xf8nskede mappe (til hvilken kun bruger=tomcat har adgang) og s\xe6t denerddapContentDirectorySystemejendom (fx,erddapContentDirectory=~tomcat/content/erddap) s\xe5 s\xe5 s\xe5danERDDAP\u2122kan finde denne nye indholdskatalog."]}),"\n",(0,t.jsxs)(r.p,{children:["\\[Nogle tidligere versioner er ogs\xe5 tilg\xe6ngelige:\r\n",(0,t.jsx)(r.a,{href:"https://github.com/ERDDAP/erddap/releases/download/v2.17/erddapContent.zip",children:"2.17"})," (19,792 bytes, MD5=8F892616BAEEF2DF0F4BB036DCB4AD7C, af 2022-02-16)\r\n",(0,t.jsx)(r.a,{href:"https://github.com/ERDDAP/erddap/releases/download/v2.18/erddapContent.zip",children:"2.18"})," (19,792 bytes, MD5=8F892616BAEEF2DF0F4BB036DCB4AD7C, af 2022-02-16)\r\n",(0,t.jsx)(r.a,{href:"https://github.com/ERDDAP/erddap/releases/download/v2.21/erddapContent.zip",children:"2.21"})," (19,810 bytes, MD5 =E26F62E7A06191EE6868C40B9A29362, af 2022-10-09)\r\n",(0,t.jsx)(r.a,{href:"https://github.com/ERDDAP/erddap/releases/download/v2.22/erddapContent.zip",children:"2.22"})," (19,810 bytes, MD5 =E26F62E7A06191EE6868C40B9A29362, af 2022-12-08)\r\n",(0,t.jsx)(r.a,{href:"https://github.com/ERDDAP/erddap/releases/download/v2.23/erddapContent.zip",children:"2.23"})," (19,810 bytes, MD5 =E26F62E7A06191EE6868C40B9A29362, dateret 2023-02-27)\r\nog indpakke det ind i ",(0,t.jsx)(r.em,{children:"tomcat"}),", oprettelse_tomcat_/content/erddap. \\]"]}),"\n",(0,t.jsx)(r.p,{children:"S\xe5, s\xe5,"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.a,{href:"#setup.xml",children:"L\xe6s kommentarerne i_tomcat_/content/erddap/ / / / ** ops\xe6tning.xml ** "}),"og foretage de \xf8nskede \xe6ndringer. setup.xml er filen med alle de indstillinger, der angiver, hvordan dinERDDAP\u2122opf\xf8rer sig.\r\nFor den f\xf8rste ops\xe6tning, skal du mindst \xe6ndre disse indstillinger:"]}),"\n"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{children:"        <bigParentDirectory>, <emailEverythingTo>, <baseUrl>, <email.\\\\*>, <admin.\\\\*> (and <baseHttpsUrl> when you set up https).\n"})}),"\n",(0,t.jsx)(r.p,{children:"N\xe5r du opretter bigParentDirectory, fra for\xe6ldremappen af bigParentDirectory:"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsx)(r.li,{children:"G\xf8r brugeren=tomcat ejeren af bigParentDirectory, f.eks."}),"\n"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{children:"            chown -R tomcat _bigParentDirectory_\n"})}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsx)(r.li,{children:'\xc6ndre "gruppen" for at v\xe6re tomcat, dit brugernavn eller navnet p\xe5 en lille gruppe, der indeholder tomcat og alle administratorer af Tomcat/ERDDAPf.eks.'}),"\n"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{children:"            chgrp -R _yourUserName_ _bigParentDirectory_\n"})}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsx)(r.li,{children:"\xc6ndre tilladelser, s\xe5 tomcat og gruppen har l\xe6st, skrive, udf\xf8re privilegier, f.eks."}),"\n"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{children:"            chmod -R ug+rwx _bigParentDirectory_\n"})}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsx)(r.li,{children:'Fjern "andre" brugerens tilladelser til at l\xe6se, skrive eller udf\xf8re. Dette er vigtigt at forhindre l\xe6sning muligvis f\xf8lsomme oplysninger iERDDAP\u2122log filer og filer med oplysninger om private datas\xe6t.:'}),"\n"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{children:"            chmod -R o-rwx _bigParentDirectory_\n"})}),"\n",(0,t.jsxs)(r.p,{children:[(0,t.jsx)(r.a,{href:"#setupEnvironmentVariables",children:"Milj\xf8variabler"}),"- Begyndende medERDDAP\u2122v2.13,ERDDAP\u2122Administratorer kan tilsides\xe6tte enhver v\xe6rdi i ops\xe6tning.xml ved at angive en milj\xf8variabel ved navnERDDAP\\_",(0,t.jsx)(r.em,{children:"v\xe6rdinavn"}),", f\xf8r du k\xf8rerERDDAP\u2122. Brug f.eks.ERDDAP\\_baseUrl tilsides\xe6tter<baseUrl>v\xe6rdi. Dette kan v\xe6re praktisk, n\xe5r du installererERDDAP\u2122med en beholder som Docker, da du kan s\xe6tte standardindstillinger i ops\xe6tning.xml og derefter levere s\xe6rlige indstillinger via milj\xf8variabler. Hvis du leverer hemmelige oplysninger tilERDDAP\u2122via denne metode skal du kontrollere, at oplysningerne forbliver hemmelige.ERDDAP\u2122kun l\xe6ser milj\xf8variabler \xe9n gang pr. opstart, i f\xf8rste sekund af opstart, s\xe5 en m\xe5de at bruge dette er: s\xe6t milj\xf8variabler, startERDDAPVent indtilERDDAP\u2122Startes, og s\xe6t derefter milj\xf8variablerne."]}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:["\n",(0,t.jsxs)(r.p,{children:[(0,t.jsx)(r.a,{href:"#datasets.xml",children:"L\xe6s kommentarerne i"}),"[ [] ** Arbejde med arbejdetdatasets.xmlFilen fil ** S\xe6rkegle (",(0,t.jsx)(r.a,{href:"https://erddap.github.io/setupDatasetsXml.html",children:"https://erddap.github.io/setupDatasetsXml.html"}),")"," . Senere, efter du f\xe5rERDDAP\u2122k\xf8rer for f\xf8rste gang (Normalt med kun standarddatas\xe6t) , vil du \xe6ndre XML i_tomcat_/content/erddap/ / / / ** datasets.xml ** for at angive alle de data, du \xf8nsker,ERDDAP\u2122at tjene. Dette er, hvor du vil bruge m\xe6ngden af din tid, mens du ops\xe6tterERDDAP\u2122og senere samtidig opretholde dinERDDAP\u2122."]}),"\n"]}),"\n",(0,t.jsxs)(r.li,{children:["\n",(0,t.jsx)(r.p,{children:"(I mods\xe6tning til) Nu eller nu (lidt mere sandsynligt) i fremtiden, hvis du \xf8nsker at \xe6ndre erddaps CSS-fil, lave en kopi af_tomcat_/content/erddap/images/erddapStart2.css kaldet erddap2.css og derefter foretage \xe6ndringer til det. \xc6ndringer til erddap2.css tager kun virkning, n\xe5rERDDAP\u2122genstartes og kr\xe6ver ofte ogs\xe5 brugeren at rydde browserens cachede filer."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(r.p,{children:["ERDDAP\u2122virker ikke korrekt, hvis ops\xe6tningen.xml ellerdatasets.xmlfilen er ikke en veldannet XML-fil. S\xe5 efter du redigerer disse filer, er det en god ide at bekr\xe6fte, at resultatet er veldannet XML ved at inds\xe6tte XML-teksten i en XML-tjeker som",(0,t.jsx)(r.a,{href:"https://www.xmlvalidation.com/",children:"xmlvalidation"}),"."]}),"\n",(0,t.jsxs)(r.ol,{start:"4",children:["\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.a,{href:"#erddap.war",children:"Installer filen erddap.war."}),"\r\nP\xe5 Linux, Mac og Windows, download",(0,t.jsx)(r.a,{href:"https://github.com/ERDDAP/erddap/releases/download/v2.25.1/erddap.war",children:"Erddap.war"}),"i ",(0,t.jsx)(r.em,{children:"tomcat"}),"/webapps.\r\n(Version 2.25_1, 592,292,039 bytes, MD5=652AFC9D1421F00B5F789DA2C4732D4C, af 2024-11-07)"]}),"\n"]}),"\n",(0,t.jsx)(r.p,{children:".war-filen er stor, fordi den indeholder h\xf8j opl\xf8sning kystlinje, gr\xe6nse og h\xf8jdedata, der er n\xf8dvendige for at oprette kort."}),"\n",(0,t.jsxs)(r.p,{children:["\\[Nogle tidligere versioner er ogs\xe5 tilg\xe6ngelige.\r\n",(0,t.jsx)(r.a,{href:"https://github.com/ERDDAP/erddap/releases/download/v2.17/erddap.war",children:"2.17"})," (551,068,245 bytes, MD5=5FEA912B5D42E50EAB9591F773EA848D, af 2022-02-16)\r\n",(0,t.jsx)(r.a,{href:"https://github.com/ERDDAP/erddap/releases/download/v2.18/erddap.war",children:"2.18"})," (551,069,844 bytes, MD5=461325E97E7577EC671DD50246CCFB8B, af 2022-02-23)\r\n",(0,t.jsx)(r.a,{href:"https://github.com/ERDDAP/erddap/releases/download/v2.21/erddap.war",children:"2.21"})," (568,644,411 bytes, MD5=F2CFF893146E932E498FDDBD519B6, af 2022-10-09)\r\n",(0,t.jsx)(r.a,{href:"https://github.com/ERDDAP/erddap/releases/download/v2.22/erddap.war",children:"2.22"})," (567,742,765 bytes, MD5=2B33354F633294213AE2AFDDCF4DA6D0, af 2022-12-08)\r\n",(0,t.jsx)(r.a,{href:"https://github.com/ERDDAP/erddap/releases/download/v2.23/erddap.war",children:"2.23"})," (572,124,953 bytes, MD5=D843A043C506725EBD6F8EFDCCA8FD5F, af 2023-03-03-03)\r\n",(0,t.jsx)(r.a,{href:"https://github.com/ERDDAP/erddap/releases/download/v2.24/erddap.war",children:"2.24"})," (568,748,187 bytes, MD5=970fbee172e28b0b8a07756eecbc898e, dateret 2024-06-07)\r\n\\]"]}),"\n",(0,t.jsxs)(r.ol,{start:"5",children:["\n",(0,t.jsxs)(r.li,{children:["Brug Proxy Pass s\xe5 brugerne ikke beh\xf8ver at s\xe6tte portnummeret, f.eks. :8080, i URL.\r\nP\xe5 Linux-computere, hvis Tomcat k\xf8rer i Apache, skal du \xe6ndre Apache httpd. Sammens\xe6t fil (normalt i /etc/httpd/conf/) at tillade HTTP-trafik til/fraERDDAP\u2122uden at kr\xe6ve portnummeret, f.eks. :8080, i webadressen. Som root-brugeren:","\n",(0,t.jsxs)(r.ol,{children:["\n",(0,t.jsx)(r.li,{children:"\xc6ndre den eksisterende<VirtualHost>tag tag (hvis der er en) , eller tilf\xf8j en ved udgangen af filen:"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{children:"        <VirtualHost \\\\*:80>\r\n           ServerName _YourDomain.org_\r\n           ProxyRequests Off\r\n           ProxyPreserveHost On\r\n           ProxyPass /erddap http://localhost:8080/erddap\r\n           ProxyPassReverse /erddap http://localhost:8080/erddap\r\n        </VirtualHost>\n"})}),"\n",(0,t.jsxs)(r.ol,{start:"2",children:["\n",(0,t.jsxs)(r.li,{children:["\n",(0,t.jsx)(r.p,{children:"Genstart derefter Apache: /usr/sbin/apachectl -k yndefuld (Men nogle gange er det i en anden mappe) ."}),"\n"]}),"\n",(0,t.jsxs)(r.li,{children:["\n",(0,t.jsxs)(r.p,{children:[(0,t.jsx)(r.a,{href:"#NGINX",children:" (U USANCOMMON) "}),"Hvis du bruger",(0,t.jsx)(r.a,{href:"https://www.nginx.com/",children:"NGINX"})," (en webserver og belastningsbalancer) :\r\nfor at f\xe5 NGINX ogERDDAP\u2122Arbejde korrekt med https, skal du s\xe6tte f\xf8lgende uddrag inde i Tomcat-serveren.xml<Host>blok:"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(r.p,{children:'<Ventil klassenavn.apache.catalina.valves.RemoteIpValve"\r\nSupplerende oplysninger om fjernbetjeningIpHeader\r\nProtokolHeader\r\nprotokolHeaderHttpsValuehttps" />'}),"\n",(0,t.jsx)(r.p,{children:"Og i nginx config-filen, skal du indstille disse overskrifter:"}),"\n",(0,t.jsx)(r.p,{children:"proxy \\_set\\_header V\xe6rt $host;\r\nproxy \\_set\\_header X-Real-IP $remote\\_addr;\r\nproxy \\_set\\_header REMOTE\\_ADDR $remote\\_addr;\r\nproxy \\_set\\_header HTTP\\_CLIENT\\_IP $remote\\_addr;\r\nproxy \\_set\\_header X-Forwarded-For $proxy\\_add\\_x \\_ed\\_for;\r\nproxy \\_set\\_header X-Forwarded-Proto $scheme;"}),"\n",(0,t.jsx)(r.p,{children:"(Tak til Kyle Wilcox.)"}),"\n",(0,t.jsxs)(r.ol,{start:"7",children:["\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.a,{href:"#startTomcat",children:"Start Tomcat."}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:["\n",(0,t.jsx)(r.p,{children:"(Jeg anbefaler ikke at bruge Tomcat Web Application Manager. Hvis du ikke er helt lukket og starter Tomcat, f\xf8r eller senere vil du have PermGen hukommelse problemer.)"}),"\n"]}),"\n",(0,t.jsxs)(r.li,{children:["\n",(0,t.jsx)(r.p,{children:"(I Linux eller Mac OS, hvis du har oprettet en speciel bruger til at k\xf8re Tomcat, f.eks. tomcat, huske at g\xf8re f\xf8lgende trin som den bruger.)"}),"\n"]}),"\n",(0,t.jsxs)(r.li,{children:["\n",(0,t.jsxs)(r.p,{children:["Hvis Tomcat allerede k\xf8rer, lukkes Tomcat med (i Linux eller Mac OS) ",(0,t.jsx)(r.em,{children:"tomcat"}),"/bin/shutdown.sh\r\neller eller eller (I Windows) ",(0,t.jsx)(r.em,{children:"tomcat"}),'"bin"shutdown.bat']}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(r.p,{children:["P\xe5 Linux, brug ps -ef | grep tomcat f\xf8r og efter nedlukning.sh for at sikre, at tomcat proces er stoppet. Processen skal v\xe6re opf\xf8rt f\xf8r nedlukningen og i sidste ende ikke opf\xf8rt efter nedlukningen. Det kan tage et minut eller to forERDDAP\u2122til fuldst\xe6ndig lukket ned. V\xe6r t\xe5lmodig. Eller hvis det ser ud, at det ikke stopper p\xe5 sin egen, brug:\r\ndrab -9 ",(0,t.jsx)(r.em,{children:"processID"})]}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:["Start Tomcat med (i Linux eller Mac OS) ",(0,t.jsx)(r.em,{children:"tomcat"}),"/bin/startup.sh\r\neller eller eller (I Windows) ",(0,t.jsx)(r.em,{children:"tomcat"}),' "bin"startup.bat']}),"\n"]}),"\n",(0,t.jsxs)(r.ol,{start:"8",children:["\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.a,{href:"#isErddapRunning",children:"IsERDDAP\u2122l\xf8b?"}),"\r\nBrug en browser til at pr\xf8ve at se http://",(0,t.jsx)(r.em,{children:(0,t.jsx)(r.a,{href:"http://www.yourServer.org",children:"www.yourServer.org"})}),"/erddap/status.html\r\nERDDAP\u2122starter op uden datas\xe6t indl\xe6st. Datasets er indl\xe6st i en baggrundstr\xe5d og bliver tilg\xe6ngelige en-by-one."]}),"\n"]}),"\n",(0,t.jsx)(r.p,{children:(0,t.jsx)(r.a,{href:"#LookInLogFiles",children:"Har du lyst? Kig i logfilerne."})}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsx)(r.li,{children:"N\xe5r en anmodning fra en bruger kommer i, g\xe5r det til Apache (p\xe5 Linux og Mac OS-computere) , s\xe5 Tomcat, s\xe5ERDDAP\u2122."}),"\n",(0,t.jsx)(r.li,{children:"Du kan se, hvad der kommer til Apache (og relaterede fejl) i Apache log filer."}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.a,{href:"#tomcatLogs",children:"Dig"}),"kan se, hvad der kommer til Tomcat (og relaterede fejl) i Tomcat log filer (",(0,t.jsx)(r.em,{children:"tomcat"}),"/logs/catalina.out og andre filer i mappen) ."]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.a,{href:"#log",children:"Dig"}),"kan se, hvad der kommer tilERDDAP, diagnostiske meddelelser fraERDDAP, og fejlmeddelelser fraERDDAP, i denERDDAP\u2122<bigParentDirectory>logfiler/log.txt-fil."]}),"\n",(0,t.jsx)(r.li,{children:"Tomcat starter ikkeERDDAP\u2122indtil Tomcat f\xe5r en anmodning omERDDAP\u2122. S\xe5 du kan se i Tomcat log filer, hvis det startedeERDDAP\u2122eller hvis der er en fejlmeddelelse relateret til dette fors\xf8g."}),"\n",(0,t.jsx)(r.li,{children:"Hvorn\xe5r Hvorn\xe5r skal man Hvorn\xe5rERDDAP\u2122starter op, det omd\xf8ber den gamleERDDAP\u2122log.txt-fil (logArchivedAt_CurrentTime_.txt) og oprette en ny log.txt-fil. S\xe5 hvis log. txt-filen er gammel, det er et tegn p\xe5, atERDDAP\u2122har ikke for nylig genstartet.ERDDAP\u2122skriver logoplysninger til en buffer og skriver kun bufferen til logfilen periodisk, men du kan tvingeERDDAP\u2122at skrive bufferen til logfilen ved at bes\xf8ge.../erddap/status.html."}),"\n"]}),"\n",(0,t.jsxs)(r.p,{children:[(0,t.jsx)(r.a,{href:"#OldVersionOfJava",children:"Trouble: Gamle version afJava"}),'\r\nHvis du bruger en version afJavadet er for gammel tilERDDAP,ERDDAP\u2122K\xf8r ikke, og du vil se en fejlmeddelelse i Tomcat\'s logfil som\r\nUndtagelse i tr\xe5d "main" java.lang.Uunderst\xf8ttetClassVersion Fejl:\r\n',(0,t.jsx)(r.em,{children:"some/class/name"}),": Ust\xf8ttet st\xf8rre.minor version ",(0,t.jsx)(r.em,{children:"someNumber"}),"\r\nL\xf8sningen er at opdatere til den seneste version afJavaog s\xf8rg for, at Tomcat bruger den."]}),"\n",(0,t.jsxs)(r.p,{children:[(0,t.jsx)(r.a,{href:"#SlowStartup",children:"Trouble: Slow Startup f\xf8rste gang"}),"\r\nTomcat skal g\xf8re en masse arbejde f\xf8rste gang en ans\xf8gning somERDDAP\u2122er startet; is\xe6r skal det pakke den erddap. krig fil (som er som en.zipfilfil) . P\xe5 nogle servere, det f\xf8rste fors\xf8g p\xe5 at seERDDAP\u2122boder (30 sekunder?) indtil dette arbejde er f\xe6rdigt. P\xe5 andre servere vil det f\xf8rste fors\xf8g mislykkes med det samme. Men hvis du venter 30 sekunder og pr\xf8ve igen, vil det lykkes, hvisERDDAP\u2122blev installeret korrekt.\r\nDer er ingen fix for dette. Dette er simpelthen, hvordan Tomcat virker. Men det sker kun f\xf8rste gang, efter at du installerer en ny version afERDDAP\u2122."]}),"\n",(0,t.jsxs)(r.ol,{start:"9",children:["\n",(0,t.jsxs)(r.li,{children:["\n",(0,t.jsxs)(r.p,{children:["I fremtiden, for at lukke (og genstart) ERDDAP, se\r\n",(0,t.jsx)(r.a,{href:"#shutdown",children:"S\xe5dan lukkes du ned og genstart Tomcat ogERDDAP"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(r.li,{children:["\n",(0,t.jsxs)(r.p,{children:["Troubles installation Tomcat ellerERDDAP?\r\nEmail mig p\xe5erd dot data at noaa dot gov. Jeg vil hj\xe6lpe dig.\r\nEller du kan tilmelde dig",(0,t.jsx)(r.a,{href:"#ERDDAPMailingList",children:"ERDDAP\u2122Google Group/ Mailing List"}),"og post dit sp\xf8rgsm\xe5l der."]}),"\n"]}),"\n",(0,t.jsxs)(r.li,{children:["\n",(0,t.jsxs)(r.p,{children:["Email e-mail",(0,t.jsx)(r.a,{href:"#updateNotification",children:"Meddelelse om nye versioner afERDDAP"}),"\r\nHvis du vil modtage en e-mail, n\xe5r en ny version afERDDAP\u2122er tilg\xe6ngelig eller andre vigtigeERDDAP\u2122Meddelelser, du kan tilmelde digERDDAP\u2122bekendtg\xf8relser liste",(0,t.jsx)(r.a,{href:"https://groups.google.com/g/erddap-announce",children:"her her"}),". Denne liste svarer til omtrent \xe9n e-mail hver tredje m\xe5ned."]}),"\n"]}),"\n",(0,t.jsxs)(r.li,{children:["\n",(0,t.jsx)(r.p,{children:(0,t.jsx)(r.a,{href:"#customize",children:"Tilpas din s\xf8gningERDDAP\u2122at fremh\xe6ve din organisation (Ikke ikkeNOAAERD) ."})}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:["\xc6ndre det banner, der vises \xf8verst p\xe5 alleERDDAP\u2122.html sider ved at redigere<startBodyHtml5>tag i dindatasets.xmlfil. (Hvis der ikke er en, skal du kopiere standarden fraERDDAP's\r\n\\[tomcat\\]/webapps/erddap/WEB-INF/classes/gov/noaa/pfel/erddap/util/messages.xml-fil idatasets.xmlog redigere det.) Du kan f.eks.:","\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsx)(r.li,{children:"Brug et andet billede (f.eks. din organisations logo) ."}),"\n",(0,t.jsx)(r.li,{children:"\xc6ndre baggrundsfarven."}),"\n",(0,t.jsxs)(r.li,{children:['\xc6ndre "ERDDAP" til "',(0,t.jsx)(r.em,{children:"DinOrganization"}),'\'sERDDAP" " " "']}),"\n",(0,t.jsxs)(r.li,{children:['\xc6ndre "Easier adgang til videnskabelige data" til "Easier adgang til ',(0,t.jsx)(r.em,{children:"DinOrganization"}),"'s data\"."]}),"\n",(0,t.jsx)(r.li,{children:"Du kan \xe6ndre links til din organisation og finansieringskilder."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(r.li,{children:["\xc6ndre oplysningerne p\xe5 venstre side af startsiden ved at redigere oplysningerne<theShortDescriptionHtml>tag i dindatasets.xmlfil. (Hvis der ikke er en, skal du kopiere standarden fraERDDAP's\r\n\\[tomcat\\]/webapps/erddap/WEB-INF/classes/gov/noaa/pfel/erddap/util/messages.xml-fil idatasets.xmlog redigere det.) Du kan f.eks.:","\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsx)(r.li,{children:"Beskriv hvad din organisation og/eller gruppe g\xf8r."}),"\n",(0,t.jsx)(r.li,{children:"Beskrive, hvilken slags data detteERDDAP\u2122har."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(r.li,{children:["Hvis du vil \xe6ndre ikonet, der vises p\xe5 browser faner, skal du s\xe6tte din organisations favicon. ico in_tomcat_/content/erddap/ Fotos/ . Se endnu",(0,t.jsx)(r.a,{href:"https://en.wikipedia.org/wiki/Favicon",children:"https://en.wikipedia.org/wiki/Favicon"}),"."]}),"\n"]}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:r}={...(0,s.R)(),...e.components};return r?(0,t.jsx)(r,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},8453:(e,r,n)=>{n.d(r,{R:()=>a,x:()=>l});var i=n(6540);const t={},s=i.createContext(t);function a(e){const r=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function l(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),i.createElement(s.Provider,{value:r},e.children)}}}]);